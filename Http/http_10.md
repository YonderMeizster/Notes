# HTTP 1.0

HTTP является протоколом прикладного уровня. Стандартный порт 80, для
шифрованной версиии, HTTPS стандартным портом является порт 443.

При работе в браузере как правило достаточно указать лишь доменное имя сайта.
Связано это с тем, что браузер неявно укажет порт самостоятельно при соединении.
Откуда он узнает, какой порт использовать? Ответ кроется в протоколе, указанном
перед доменным именем сайта. Правда, нынешние браузеры и его прячут, приставляя
неявно. А вместе с этим еще и соединение не с восьмидесятым портом
устанавливают, а с 443, на котором крутится https.

На сервере TCP соединение примет либо сам сайт, либо веб сервер, к пример Apache
или Nginx.

"Прочувствовать" наживую http можно через консольную linux- утилиту telnet.

```
user@coding:~$ telnet google.com 80
Trying 216.58.210.142...
Connected to google.com.
Escape character is '^]'.
```

Аналогичным образом можно через ping узнать ip адрес http сервера и лишь затем
установить с ним соединение по 80 порту:

```
user@coding:~$ ping google.com
PING google.com (216.58.209.174) 56(84) bytes of data.

user@coding:~$ telnet 216.58.209.174 80
Trying 216.58.209.174...
Connected to 216.58.209.174.
Escape character is '^]'.
```

Таким образом было установлено соединение через телнет. По сути, произошло вот
что: открылось tcp соединение, по которому можно что- то отправить.


## Что из себя представляет сам http запрос?


Известно, что соединение установилось с http- сервером, поэтому необходимо
отправить ему что- то для него осмысленное, к примеру вот, что:

```
HEAD / HTTP/1.0
user-agent: google chrome
```

В том, что было передано:
- HEAD - название метода, еще это носит название "глагол" (Данный метод дает
  понять веб- серверу, что клиент запросил ресурс, но только заголовки);
- Следующий за названием метода слэш '/' - путь до ресурса (корень сайта, он же
  представляет собой ту страницу, которая возвращается при запросе https://google.com);
- HTTP/1.0 - версия протокола;
- user-agent: google chrome - заголовок.

В сумме эти параметры выше носят название **стартовой строки http запроса** или
**status line**.

Заголовки позволяют передать дополнительную информацию от клиента к серверу, к
примеру, поддерживаемые форматы сжатия, в каком формате клиент готов принять
ответ и так далее. Стандартных заголовков много, а также имеется возможность
определять пользовательские заголовки.

Заголовки передаются в любом порядке, вне зависимости от регистра, разделяются
преводами строки. На самом деле я выяснил, что гуглу можно и не передавать никаких
заголовков, он лояльно к этому отнесется, вернет код 200 и предоставит хедер.

## Что из себя представялет ответ?

В ответ на предыдущий запрос сервер выдает вот такую портянку:

```
HTTP/1.0 200 OK
Content-Type: text/html; charset=ISO-8859-1
Content-Security-Policy-Report-Only: object-src 'none';base-uri 'self';script-src 'nonce-dh67Hnh8ln7VpTdif5ehUA' 'strict-dynamic' 'report-sample' 'unsafe-eval' 'unsafe-inline' https: http:;report-uri https://csp.withgoogle.com/csp/gws/other-hp
P3P: CP="This is not a P3P policy! See g.co/p3phelp for more info."
Date: Mon, 03 Apr 2023 19:55:38 GMT
Server: gws
X-XSS-Protection: 0
X-Frame-Options: SAMEORIGIN
Expires: Mon, 03 Apr 2023 19:55:38 GMT
Cache-Control: private
Set-Cookie: 1P_JAR=2023-04-03-19; expires=Wed, 03-May-2023 19:55:38 GMT; path=/; domain=.google.com; Secure
Set-Cookie: AEC=AUEFqZcxWTLgLLID-nSkcSl_iDAFHMO2JDnmupakAm2sjMO7eSHAPxtCBA; expires=Sat, 30-Sep-2023 19:55:38 GMT; path=/; domain=.google.com; Secure; HttpOnly; SameSite=lax
Set-Cookie: NID=511=CrrjHtSItBBib9iiC9M3trjEYqaxDMTDr0TJESbCfHZULvdW9LpZsdUd45iFaHhqA84Qrz6pi36f7RvaxM3zoIen84K3L2SmDnczBWqdFeCAFv87FD_-bq9gGH8X9nmG_6LlbblAlT58A6VsCHQDIgi9l58vY4kBc075_Q9k2m8; expires=Tue, 03-Oct-2023 19:55:38 GMT; path=/; domain=.google.com; HttpOnly
```

В принципе, видна знакомая структура. HTTP/1.0 200 OK - почти то же самое, что
было отправлено серверу, отличие лишь в том, что это ответ :)
Кстати говоря, эта строка зовется **status line**
- HTTP/1.0 - версия протокола;
- 200 - кода ответа;
- OK - сообщение;

Вся оставшаяся портянка текста- ни что иное, как заголовки.

> Одна из отличительных черт HTTP 1.0 - после получения ответа от сервера
> соединение закрывается.