Каждый модуль имеет встроенный аттрибут __name__. Если модуль запускается как программа верхнего уровня- то аттрибуту __name__ назначается значение '__main__'

Если модуль импортируется- то аттрибуту __name__ задается то имя, под которым он известен в импортирующем коде. Либо по названию файла, либо по тому, что написано после оператора as.